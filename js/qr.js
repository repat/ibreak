// Function for appName =ing the aesthetically pleasing stylization of an app name
// The case is the id of the app in the HTML, the appName = is what the user
// will see.
function appMeta(appID){
    switch(appID){
        case 'andstatus':
            appName = 'AndStatus';
            qrLink = "market://details?id=org.andstatus.app";
            break;
        case 'antennapod':
            appName = 'AntennaPod';
            qrLink = "market://details?id=de.danoeh.antennapod";
            break;
        case 'anysoftkeyboard':
            appName = 'AnySoftKeyboard';
            qrLink = "market://details?id=com.menny.android.anysoftkeyboard";
            break;
        case 'amazefilemanager':
            appName = 'Amaze File Manager';
            qrLink = "market://details?id=com.amaze.filemanager";
            break;
        case 'barcodescanner':
            appName = 'Barcode Scanner';
            qrLink = "market://details?id=com.google.zxing.client.android";
            break;
        case 'cgeo':
            appName = 'c:geo';
            qrLink = "market://details?id=cgeo.geocaching";
            break;
        case 'chatsecure':
            appName = 'ChatSecure';
            qrLink = "market://details?id=info.guardianproject.otr.app.im";
            break;
        case 'csipsimple':
            appName = 'CSipSimple';
            qrLink = "market://details?id=com.csipsimple";
            break;
        case 'conversations':
            appName = 'Conversations';
            qrLink = "market://details?id=eu.siacs.conversations";
            break;
        case 'coolreader':
            appName = 'CoolReader';
            qrLink = "market://details?id=org.coolreader";
            break;
        case 'davdroid':
            appName = 'DAVdroid';
            qrLink = "market://details?id=at.bitfire.davdroid";
            break;
        case 'documentviewer':
            appName = 'Document Viewer';
            qrLink = "market://details?id=org.sufficientlysecure.viewer";
            break;
        case 'fbreader':
            appName = 'FBReader';
            qrLink = "market://details?id=org.geometerplus.zlibrary.ui.android";
            break;
        case 'firefox':
            appName = 'Firefox';
            qrLink = "market://details?id=org.mozilla.firefox";
            break;
        case 'flappycow':
            appName = 'FlappyCow';
            qrLink = "market://details?id=com.quchen.flappycow";
            break;
        case 'flock':
            appName = 'Flock';
            qrLink = "market://details?id=org.anhonesteffort.flock";
            break;
        case 'freeotp':
            appName = 'FreeOTP';
            qrLink = "market://details?id=org.fedorahosted.freeotp";
            break;
        case 'ghostcommander':
            appName = 'Ghost Commander';
            qrLink = "market://details?id=com.ghostsq.commander";
            break;
        case 'hackerskeyboard':
            appName = 'Hacker\'s Keyboard';
            qrLink = "market://details?id=org.pocketworkstation.pckeyboard";
            break;
        case 'icecat':
            appName = 'IceCatMobile';
            qrLink = "market://details?id=org.gnu.icecat";
            break;
        case 'ics-openvpn':
            appName = 'OpenVPN for Android';
            qrLink = "market://details?id=de.blinkt.openvpn";
            break;
        case 'impeller':
            appName = 'Impeller';
            qrLink = "market://details?id=eu.e43.impeller";
            break;
        case 'k9':
            appName = 'K-9 Mail';
            qrLink = "market://details?id=com.fsck.k9";
            break;
        case 'keepassdroid':
            appName = 'KeePassDroid';
            qrLink = "market://details?id=com.android.keepass";
            break;
        case 'kontalk':
            appName = 'Kontalk';
            qrLink = "market://details?id=org.kontalk";
            break;
        case 'libreofficeviewer':
            appName = 'LibreOffice Viewer';
            qrLink = "market://details?id=com.collabora.libreoffice";
            break;
        case 'lightningbrowser':
            appName = 'Lightning Browser';
            qrLink = "market://details?id=acr.browser.lightning";
            break;
        case 'linphone':
            appName = 'Linphone';
            qrLink = "market://details?id=org.linphone";
            break;
        case 'mapsme':
            appName = 'MAPS.ME';
            qrLink = "market://details?id=com.mapswithme.maps.pro";
            break;
        case 'materialaudiobookplayer':
            appName = 'Material Audiobook Player';
            qrLink = "market://details?id=de.ph1b.audiobook";
            break;
        case 'mitzuli':
            appName = 'Mitzuli';
            qrLink = "market://details?id=com.mitzuli";
            break;
        case 'mosf':
            appName = 'Minimal Open Source Flashlight';
            qrLink = "market://details?id=de.repat.mosf";
            break;
        case 'mupdf':
            appName = 'MuPDF';
            qrLink = "market://details?id=com.artifex.mupdfdemo";
            break;
        case 'newpipe':
            appName = 'NewPipe';
            qrLink = "market://details?id=org.schabi.newpipe";
            break;
        case 'notecipher':
            appName = 'NoteCipher';
            qrLink = "market://details?id=info.guardianproject.notepadbot";
            break;
        case 'nononsensenotes':
            appName = 'NoNonsense Notes';
            qrLink = "market://details?id=com.nononsenseapps.notepad";
            break;
        case 'oifilemanager':
            appName = 'OI File Manager';
            qrLink = "market://details?id=org.openintents.filemanager";
            break;
        case 'oinotepad':
            appName = 'OI Notepad';
            qrLink = "market://details?id=org.openintents.notepad";
            break;
        case 'openconnect':
            appName = 'OpenConnect';
            qrLink = "market://details?id=app.openconnect";
            break;
        case 'osmand':
            appName = 'OsmAnd';
            qrLink = "market://details?id=net.osmand.plus";
            break;
        case 'owncloud':
            appName = 'ownCloud';
            qrLink = "market://details?id=com.owncloud.android";
            break;
        case 'owncloudnewsreader':
            appName = 'ownCloud News Reader';
            qrLink = "market://details?id=de.luhmer.owncloudnewsreader";
            break;
        case 'prey':
            appName = 'Prey';
            qrLink = "market://details?id=com.prey";
            break;
        case 'quicklyric':
            appName = 'QuickLyric';
            qrLink = "market://details?id=com.geecko.QuickLyric";
            break;
        case 'redphone':
            appName = 'RedPhone';
            qrLink = "market://details?id=org.thoughtcrime.redphone";
            break;
        case 'redreader':
            appName = 'RedReader';
            qrLink = "market://details?id=org.quantumbadger.redreader";
            break;
        case 'sparss':
            appName = 'spaRSS';
            qrLink = "market://details?id=net.etuldan.sparss";
            break;
        case 'surespot':
            appName = 'surespot';
            qrLink = "market://details?id=com.twofours.surespot";
            break;
        case 'telegram':
            appName = 'Telegram';
            qrLink = "market://details?id=org.telegram.messenger";
            break;
         case 'textsecure':
            appName = 'TextSecure';
            qrLink = "market://details?id=org.thoughtcrime.securesms";
            break;
        case 'tinfoil':
            appName = 'Tinfoil for Facebook';
            qrLink = "market://details?id=com.danvelazco.fbwrapper";
            break;
        case 'tomdroid':
            appName = 'Tomdroid';
            qrLink = "market://details?id=org.tomdroid";
            break;
        case 'transportr':
            appName = 'Transportr';
            qrLink = "market://details?id=de.grobox.liberario";
            break;
        case 'ttrssreader':
            appName = 'TTRSS-Reader';
            qrLink = "market://details?id=org.ttrssreader";
            break;
        case 'tweetlanes':
            appName = 'Tweet Lanes';
            qrLink = "market://details?id=com.tweetlanes.android";
            break;
        case 'twidere':
            appName = 'Twidere';
            qrLink = "market://details?id=org.mariotaku.twidere";
            break;
        case 'vanillamusic':
            appName = 'Vanilla Music';
            qrLink = "market://details?id=ch.blinkenlights.android.vanilla";
            break;
        case 'vlc':
            appName = 'VLC';
            qrLink = "market://details?id=org.videolan.vlc";
            break;
        case 'wifiprivacypolice':
            appName = 'Wi-Fi Privacy Police';
            qrLink = "market://details?id=be.uhasselt.privacypolice";
            break;
        case 'writeilypro':
            appName = 'Writeily Pro';
            qrLink = "market://details?id=me.writeily.pro";
            break;
        case 'xabber':
            appName = 'Xabber';
            qrLink = "market://details?id=com.xabber.androiddev";
            break;
        case 'passandroid':
            appName   'PassAndroid';
            qrLink    "market://details?id=org.ligi.passandroid";
            break;
        case 'syncthing':
            appName   'Syncthing';
            qrLink    "market://details?id=com.nutomic.syncthingandroid";
            break;
        case 'afwall':
            appName   'AFWall';
            qrLink    "market://details?id=dev.ukanth.ufirewall";
            break;
        default:
            appName = appID;
            qrLink = appID;
            break;
    }
}



// Variables
var qrFade = '#qrFade';             // The big, faded background behind the white one.
var qrBackground = '#qrBackground'; // The white background behind the QR code/text.
var qrText = '#qrText';             // The text with the app name and description.
var qrCode = '#qrCode';             // The actual QR code.


// Displays a faded background along with a popup of a QR code when the
// user clicks an image of the 'qr' class.
$(document).ready(function(){
    $('.qr').click(function(){
 
        // This sets variables according to which app QR was clicked.
        appMeta( $(this).attr('id') );

        // This weirdy indented mess is the block of HTML added to index.html
        // when clicking the QR link. The backslashes(\) are JS, not HTML, and
        // they allow us to escape newlines and thus make the indentions.
        // I like it, Vim's syntax hilighting does not.
        $('body').prepend('<div id="qrFade">\
                           </div>\
                           <div class="emph-Block" id="qrBackground">\
                               <div id="qrText">\
                                   <h2>'+appName+'</h2>\
                                   <a href="'+qrLink+'">\
                                       <h4>'+qrLink+'</h4>\
                                   </a>\
                                   <hr>\
                                   <h4>Scan using a barcode scanner.</h4>\
                               </div>\
                               <a href="'+qrLink+'">\
                                   <div id="qrCode"></div>\
                               </a>\
                               <script type="text/javascript">\
                                   new QRCode(document.getElementById("qrCode"), qrLink);\
                               </script>\
                           </div>');

        // This sets the margin and centers the popup.
        marginTop = $(qrBackground).height()/2;
        marginRight = $(qrBackground).width()/2;
        $(qrBackground).css({'margin-top': -marginTop, 'margin-right': -marginRight});

        //This fades the whole thing in, making it look quite nice.
        $(qrFade).fadeIn('slow');
        $(qrBackground).fadeIn('slow');
        $(qrText).fadeIn('slow');
        $(qrCode).fadeIn('slow');
    });
});


// Removes the QR popup and fade when clicking outside the white, i.e., on qrFade.
$(document).on('click', '#qrFade', function(){
    $(qrFade).remove();
    $(qrBackground).remove();
    $(qrText).remove();
    $(qrCode).remove();
});


// Maybe add resize reposition for .$(qrCode).
